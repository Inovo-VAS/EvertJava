package inovo.monitoring;

import java.io.InputStream;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;

import inovo.db.Database;
import inovo.web.InovoHTMLPageWidget;
import inovo.web.InovoWebWidget;

public class Utilities extends InovoHTMLPageWidget {

	public Utilities(InovoWebWidget parentWidget, InputStream inStream) {
		super(parentWidget, inStream);
	}

	public void testecho() throws Exception{
		this.respondString("Hello "+new SimpleDateFormat("yyyy-MM-dd HH:mm.ss.SSS").format(new Date()));
		//System.out.println("Hello "+new SimpleDateFormat("yyyy-MM-dd HH:mm.ss.SSS").format(new Date()));
		//SELECT * FROM v$session WHERE type='USER' AND PROGRAM like'pco%'
	}
	
	public void retrieveDBSettings(){
		try{
			HashMap<String,String> dbsettings=Database.dballias("").dbsettings();
			this.respondString("DBTYPE="+dbsettings.get("DBTYPE")+"\r\n");
			this.respondString("DBHOST="+dbsettings.get("DBHOST")+"\r\n");
			this.respondString("DBINSTANCE="+dbsettings.get("DBINSTANCE")+"\r\n");
			this.respondString("DBNAME="+dbsettings.get("DBNAME")+"\r\n");
			this.respondString("DBTYPE="+dbsettings.get("DBTYPE")+"\r\n");
			this.respondString("DBHOST="+dbsettings.get("DBHOST")+"\r\n");
		}
		catch(Exception e){
			
		}
	}
}
